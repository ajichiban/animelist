(function(e){function t(t){for(var a,r,o=t[0],c=t[1],l=t[2],u=0,d=[];u<o.length;u++)r=o[u],i[r]&&d.push(i[r][0]),i[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);m&&m(t);while(d.length)d.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],a=!0,r=1;r<n.length;r++){var c=n[r];0!==i[c]&&(a=!1)}a&&(s.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},i={app:0},s=[];function r(e){return o.p+"js/"+({about:"about"}[e]||e)+"."+{about:"826b3e79"}[e]+".js"}function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.e=function(e){var t=[],n=i[e];if(0!==n)if(n)t.push(n[2]);else{var a=new Promise(function(t,a){n=i[e]=[t,a]});t.push(n[2]=a);var s,c=document.getElementsByTagName("head")[0],l=document.createElement("script");l.charset="utf-8",l.timeout=120,o.nc&&l.setAttribute("nonce",o.nc),l.src=r(e),s=function(t){l.onerror=l.onload=null,clearTimeout(u);var n=i[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),s=t&&t.target&&t.target.src,r=new Error("Loading chunk "+e+" failed.\n("+a+": "+s+")");r.type=a,r.request=s,n[1](r)}i[e]=void 0}};var u=setTimeout(function(){s({type:"timeout",target:l})},12e4);l.onerror=l.onload=s,c.appendChild(l)}return Promise.all(t)},o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/animelist/",o.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var m=l;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0657":function(e,t,n){},"0c62":function(e,t,n){e.exports=n.p+"img/h.802789fe.png"},"12fc":function(e,t,n){"use strict";var a=n("c5cc"),i=n.n(a);i.a},"2b0d":function(e,t,n){},"2dde":function(e,t,n){"use strict";var a=n("d7d2"),i=n.n(a);i.a},3143:function(e,t,n){},4899:function(e,t,n){"use strict";var a=n("55ad"),i=n.n(a);i.a},"55ad":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("097d");var a=n("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container-fluid",attrs:{id:"app"}},[n("router-view")],1)},s=[],r=n("be94"),o=(n("96cf"),n("1da1")),c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"Login container-fluid d-flex justify-content-center align-items-center"},[n("form-login",{attrs:{tipo:"login"}})],1)},l=[],u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("form",{on:{submit:function(t){t.preventDefault(),e.submitReady()},keyup:function(t){e.verifica(t)}}},[n("div",{staticClass:"form-group d-flex flex-column align-content-center"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Usuario",autocomplete:"on"},domProps:{value:e.username},on:{blur:function(t){e.fieldsValidate(e.username,"username")},input:function(t){t.target.composing||(e.username=t.target.value)}}}),n("small",{staticClass:"text-center"},[e._v("\n            (min 6 alphanumeric characters  , without special characters )\n        ")])]),"register"===e.tipo?n("div",{staticClass:"form-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email",placeholder:"Correo",autocomplete:"true"},domProps:{value:e.email},on:{blur:function(t){e.fieldsValidate(e.email,"email")},input:function(t){t.target.composing||(e.email=t.target.value)}}})]):e._e(),n("div",{staticClass:"form-group d-flex flex-column align-content-center"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.pass,expression:"pass"}],staticClass:"form-control",attrs:{type:"password",placeholder:"Contraseña"},domProps:{value:e.pass},on:{blur:function(t){e.fieldsValidate(e.pass,"pass")},input:function(t){t.target.composing||(e.pass=t.target.value)}}}),n("small",{staticClass:"text-center"},[e._v("\n            (min 8 alphanumeric characters  , without special characters )\n        ")])]),"register"===e.tipo?n("div",{staticClass:"form-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.passConfi,expression:"passConfi"}],staticClass:"form-control",attrs:{type:"password",placeholder:"Confirma contraseña"},domProps:{value:e.passConfi},on:{blur:function(t){e.fieldsValidate(e.passConfi,"passConfi")},input:function(t){t.target.composing||(e.passConfi=t.target.value)}}})]):e._e(),n("div",{staticClass:"d-flex justify-content-center mb-2"},[n("button",{staticClass:"btn ",class:["register"===e.tipo?"btn-outline-success":"btn-outline-danger"],attrs:{type:"submit",disabled:e.disable}},[e._v(e._s(e.tipo)+"\n        ")])]),n("div",{staticClass:"d-flex justify-content-center"},[e.preloader?n("preloader",{staticClass:"text-center"}):e._e()],1),e.errors!==[]?n("div",{staticClass:"errors"},[n("ul",e._l(e.errors,function(t,a){return n("li",{key:a,staticClass:"text-danger"},[n("pre",{staticClass:"text-white"},[e._v(e._s(t))])])}))]):e._e(),e.clientErrors!==[]?n("div",{staticClass:"errors"},[n("ul",e._l(e.clientErrors,function(t,a){return n("li",{key:a,staticClass:"text-danger"},[n("pre",{staticClass:"text-light"},[e._v(e._s(t))])])}))]):e._e(),n("div",{staticClass:"d-flex justify-content-center mt-3"},["register"===e.tipo?n("small",[e._v("You register or "),n("router-link",{attrs:{to:"/login"}},[e._v("Login")])],1):n("small",[e._v("You login or "),n("router-link",{attrs:{to:"/register"}},[e._v("Register")])],1)])])},m=[],d=(n("4917"),n("6762"),n("2fdb"),n("bc3a")),p=n.n(d),f=n("2f62"),h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"preloader"})},g=[],v={},b=v,_=(n("12fc"),n("2877")),w=Object(_["a"])(b,h,g,!1,null,"704d43fe",null);w.options.__file="Preloader.vue";var C=w.exports,y={props:{tipo:String},components:{Preloader:C},data:function(){return{disable:!0,username:"",email:"",pass:"",passConfi:"",errors:[]}},computed:Object(r["a"])({},Object(f["d"])(["clientErrors","preloader"])),methods:Object(r["a"])({verifica:function(e){"register"===this.tipo?""!=this.username.trim()&&""!=this.email.trim()&&""!=this.pass.trim()&&""!=this.passConfi.trim()?this.disable=!1:this.disable=!0:(console.log("login"),""!=this.username.trim()&&""!=this.pass.trim()?this.disable=!1:this.disable=!0)},fieldsValidate:function(e,t){this.cleanErrors();var n={username:/^[\w]{6,12}$/,email:/^\w[\w\.-_]{5,16}@[\w]{4,6}\.[\w]{2,4}/,pass:/^[\w]{6,12}$/},a={username:"Username invalid!, min 6 alphanumeric characters, without special characters",email:"email addres incorrect",pass:"Password invalid !,min 6 alphanumeric characters, without special characters",passConfi:"Password and password confirm fields should matching"};if(e===this.passConfi){if(this.pass!=this.passConfi)this.errors.includes(a[t])||this.errors.push(a[t]);else if(this.errors.includes(a[t])){var i=this.errors.indexOf(a[t]);this.errors.splice(i,1)}}else if(e.match(n[t])){if(this.errors.includes(a[t])){var s=this.errors.indexOf(a[t]);this.errors.splice(s,1)}}else this.errors.includes(a[t])||this.errors.push(a[t])},submitReady:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){var t,n,a=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.togglePreloader(),0!==this.errors.length){e.next=14;break}e.t0=this.tipo,e.next="register"===e.t0?5:"login"===e.t0?8:12;break;case 5:return t={username:this.username,email:this.email,password:this.pass},p.a.post("https://api-animelist.herokuapp.com/user",t).then(function(e){a.togglePreloader(),a.$router.push("login")}).catch(function(e){a.togglePreloader();var t={username:e.response.data.Error.errors.username||null,email:e.response.data.Error.errors.email||null};t.email&&a.addError(t.email.message),t.username&&a.addError(t.username.message)}),e.abrupt("break",12);case 8:return n={username:this.username,password:this.pass},e.next=11,this.tryLogin(n).then(function(){a.togglePreloader(),console.log("pasar  a webapp"),a.$router.push("webapp")});case 11:return e.abrupt("break",12);case 12:e.next=17;break;case 14:return this.togglePreloader(),console.log("fallo"),e.abrupt("return",!1);case 17:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},Object(f["b"])(["tryLogin"]),Object(f["c"])(["addError","cleanErrors","togglePreloader"]))},x=y,k=(n("a914"),Object(_["a"])(x,u,m,!1,null,"4dbdc592",null));k.options.__file="FormRegisterORLogin.vue";var j=k.exports,O={name:"login",components:{formLogin:j}},L=O,A=(n("d963"),Object(_["a"])(L,c,l,!1,null,"2088d997",null));A.options.__file="Login.vue";var E=A.exports,R=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home"},[a("img",{attrs:{alt:"Vue logo",src:n("cf05")}}),a("HelloWorld",{attrs:{msg:"Welcome to Your Vue.js App"}})],1)},M=[],P=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"hello"},[n("h1",[e._v(e._s(e.msg))]),e._m(0),n("h3",[e._v("Installed CLI Plugins")]),e._m(1),n("h3",[e._v("Essential Links")]),e._m(2),n("h3",[e._v("Ecosystem")]),e._m(3)])},S=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v("\n    For a guide and recipes on how to configure / customize this project,"),n("br"),e._v("\n    check out the\n    "),n("a",{attrs:{href:"https://cli.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("vue-cli documentation")]),e._v(".\n  ")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",[n("li",[n("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-babel",target:"_blank",rel:"noopener"}},[e._v("babel")])])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",[n("li",[n("a",{attrs:{href:"https://vuejs.org",target:"_blank",rel:"noopener"}},[e._v("Core Docs")])]),n("li",[n("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("Forum")])]),n("li",[n("a",{attrs:{href:"https://chat.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("Community Chat")])]),n("li",[n("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank",rel:"noopener"}},[e._v("Twitter")])]),n("li",[n("a",{attrs:{href:"https://news.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("News")])])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",[n("li",[n("a",{attrs:{href:"https://router.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("vue-router")])]),n("li",[n("a",{attrs:{href:"https://vuex.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("vuex")])]),n("li",[n("a",{attrs:{href:"https://github.com/vuejs/vue-devtools#vue-devtools",target:"_blank",rel:"noopener"}},[e._v("vue-devtools")])]),n("li",[n("a",{attrs:{href:"https://vue-loader.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("vue-loader")])]),n("li",[n("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank",rel:"noopener"}},[e._v("awesome-vue")])])])}],T={name:"HelloWorld",props:{msg:String}},N=T,$=(n("b0df"),Object(_["a"])(N,P,S,!1,null,"0495e2ba",null));$.options.__file="HelloWorld.vue";var I=$.exports,U={name:"home",components:{HelloWorld:I}},H=U,F=Object(_["a"])(H,R,M,!1,null,null,null);F.options.__file="Home.vue";var V=F.exports,D={components:{Home:V},created:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(console.log("localStorage :",localStorage),!localStorage.apiToken){e.next=9;break}return console.log("token is exists"),this.userAuth(),e.next=6,this.getUserData();case 6:this.$router.push("webapp"),e.next=10;break;case 9:this.$router.push("login");case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),methods:Object(r["a"])({},Object(f["c"])(["userAuth","fillPersonalUser"]),Object(f["b"])(["getUserData"]))},W=D,Y=(n("92ba"),Object(_["a"])(W,i,s,!1,null,"d17aadb4",null));Y.options.__file="App.vue";var q=Y.exports,B=n("8c4f");n("386d"),n("7f7f"),n("ac6a");a["a"].use(f["a"]);var J="https://api-animelist.herokuapp.com",z=new f["a"].Store({state:{modal:{active:!1,anime:"",listName:"",type:""},typeContentList:"offline",listsRender:{init:"",search:""},user:{auth:!1,personal:{},lists:{complete:"",watching:"",abandoned:""}},clientErrors:[],preloader:!1},mutations:{togglePreloader:function(e){e.preloader=!e.preloader},changeTypeContentList:function(e,t){e.typeContentList=t},cleanSearchList:function(e){e.listsRender.search=""},fillListInit:function(e,t){e.listsRender.init=t},fillSearchList:function(e,t){e.listsRender.search=t},returnListsInArray:function(e){var t=e.user.lists.complete,n=e.user.lists.abandoned,a=e.user.lists.watching,i=[t,n,a];return i},updateAfterAdd:function(e,t){e.listsRender.init.forEach(function(e){e.title==t.animeName&&(e.list=t.listName)})},closeModal:function(e){e.modal.active=!1,e.modal.img="",e.modal.title="",e.modal.listName=""},showModal:function(e,t){"poster"===t.type?(e.modal.active=!0,e.modal.anime=t.info,e.modal.listName=t.list,e.modal.type=t.type):(e.modal.active=!0,e.modal.type=t.type)},userAuth:function(e){e.user.auth=!0},userLogOut:function(e){e.user.auth=!1,localStorage.removeItem("apiToken"),console.log("saliendo ...")},fillPersonalUser:function(e,t){e.user.personal=t,console.log("filldata: ",e.user.personal)},addError:function(e,t){e.clientErrors.push(t)},cleanErrors:function(e){e.clientErrors=[]},updateAfterRemove:function(e,t){console.log("updateafterRemove , data :",t);var n=e.user.lists[t.list].animes;e.user.lists[t.list].animes=n.filter(function(e){return e.name!=t.name}),e.listsRender.init.forEach(function(e){e.title==t.name&&(e.list="notFound")}),e.listsRender.search.forEach(function(e){e.title==t.name&&(e.list="notFound")})}},actions:{updateAfterAddSync:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t,n){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t.commit,a=t.state,""==a.listsRender.init){e.next=4;break}return e.next=4,a.listsRender.init.forEach(function(e){e.title==n.animeName&&(e.list=n.listName)});case 4:if(""==a.listsRender.search){e.next=7;break}return e.next=7,a.listsRender.search.forEach(function(e){e.title==n.animeName&&(e.list=n.listName)});case 7:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),fillListInitAsync:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:n=[],p.a.get("https://api.jikan.moe/v3/season/2018/winter").then(function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(a){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a.data.anime.forEach(function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(a){var i,s,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return i=[],"",e.next=3,a.genres.forEach(function(e){i.push(e.name)});case 3:return e.next=5,t.dispatch("checkAnime",a.title);case 5:s=e.sent,r={title:a.title,img:a.image_url,genres:i.join(),date:a.airing_start,description:a.synopsis,list:s.list,_id:s.id},n.push(r);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}());case 2:t.commit("fillListInit",n);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),checkAnime:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t,n){var a,i,s,r,o,c;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=t.state,i=a.user.lists.complete,s=a.user.lists.abandoned,r=a.user.lists.watching,o={},c=[i,s,r],e.next=5,c.forEach(function(e){e.animes&&e.animes.forEach(function(t){t.title!=n&&t.name!=n||(o={list:e.name,id:t._id})})});case 5:if(o=={}){e.next=9;break}return e.abrupt("return",o);case 9:return o={list:"notFound",id:"notFound"},e.abrupt("return",o);case 11:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),tryLogin:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t,n){var a,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,i=t.dispatch,e.next=3,p.a.post("".concat(J,"/login"),n).then(function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return localStorage.setItem("apiToken",t.data.token),console.log("user_token : ",localStorage.apiToken),e.next=4,a("fillPersonalUser",t.data.user);case 4:return console.log("llenar lista!"),e.next=7,i("fillUserLists");case 7:return e.next=9,a("userAuth");case 9:i("fillListInitAsync");case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){var t=e.response.data.message;a("addError",t)});case 3:console.log("fin");case 4:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),fillUserLists:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var n,a,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.state,a=n.user.personal._id,i={headers:{token:localStorage.apiToken}},e.next=4,p.a.get("".concat(J,"/user/").concat(a,"/lists"),i).then(function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=t.data.lists,e.next=3,a.forEach(function(e){switch(e.name){case"complete":e.animes.forEach(function(e){e.list="complete"}),n.user.lists.complete=e;break;case"watching":e.animes.forEach(function(e){e.list="watching"}),n.user.lists.watching=e;break;case"abandoned":e.animes.forEach(function(e){e.list="abandoned"}),n.user.lists.abandoned=e;break}});case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){return console.log(e)});case 4:console.log("User_lists : ",n.user.lists);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),getUserData:function(e){var t=e.commit,n=e.dispatch,a={headers:{Accept:"application/json",token:localStorage.apiToken}};p.a.post("".concat(J,"user/token"),null,a).then(function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(a){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t("fillPersonalUser",a.data.user),e.next=3,n("fillUserLists");case 3:n("fillListInitAsync");case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){console.log("axios err: ",e)})},searchAnime:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t,n){var a,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:a=t.commit,i=t.dispatch,a("changeTypeContentList","search"),{headers:{"Access-Control-Allow-Origin":"*",Accept:"application/json"}},p.a.get("https://api.jikan.moe/v2/search/anime/".concat(n)).then(function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return console.log("respuesta:",t.data.result),n=[],e.next=4,t.data.result.forEach(function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var a,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i("checkAnime",t.title);case 2:a=e.sent,s={title:t.title,img:t.image_url,genres:"...",date:t.airing_start,description:t.description,_id:a.id,list:a.list},n.push(s);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}());case 4:a("fillSearchList",n);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){return console.log("Error:",e)});case 4:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),addAnime:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var n,a,i,s,r,c,l,u;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.state,a=t.commit,i=t.dispatch,s=n.user.personal._id,r=n.modal.listName,c={name:n.modal.anime.title,genre:n.modal.anime.genres,img:n.modal.anime.img,description:n.modal.anime.description,date:n.modal.anime.date},l={listName:r,animeName:c.name},u={headers:{token:localStorage.apiToken}},console.log("anime: ",c),e.next=5,p.a.put("".concat(J,"/user/").concat(s,"/lists/").concat(r),c,u).then(Object(o["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:i("updateAfterAddSync",l),console.log("anime añadido");case 2:case"end":return e.stop()}},e,this)}))).catch(function(e){return console.log("error : ",e)});case 5:a("closeModal"),i("fillUserLists");case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),removeAnime:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t,n){var a,i,s,r,c;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,i=t.state,s=t.dispatch,r=i.user.personal._id,c={headers:{Accept:"application/json",token:localStorage.apiToken}},e.next=4,p.a.delete("".concat(J,"/user/").concat(r,"/lists/").concat(n.list,"/").concat(n.id),c).then(Object(o["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a("updateAfterRemove",n);case 2:console.log("anime eliminado");case 3:case"end":return e.stop()}},e,this)}))).catch(function(e){return console.log("error : ",e)});case 4:s("fillUserLists");case 5:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()}}),X=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"Login container-fluid d-flex justify-content-center align-items-center"},[n("form-login",{attrs:{tipo:"register"}})],1)},G=[],K={name:"register",components:{formLogin:j}},Q=K,Z=(n("a81b"),Object(_["a"])(Q,X,G,!1,null,"31496133",null));Z.options.__file="Register.vue";var ee=Z.exports,te=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("header-ichi",{attrs:{imgUrl:"../assets/logo.png"}}),n("h2",{staticClass:"subtitle"},[e._v("Search your Animes")]),n("form-search"),n("container-poster"),n("modal-poster")],1)},ne=[],ae=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"Header d-flex justify-content-end ",attrs:{title:"go home"},on:{click:function(t){e.goHome(t)}}},[n("div",{staticClass:"WelcomeUser align-self-start d-flex justify-content-center"},[n("div",{staticClass:"UserImg",on:{click:function(t){e.toggleOptionsAdmin()}}},[n("img",{attrs:{src:e.img,alt:""}})]),n("span",{staticClass:"User"},[e._v(" "+e._s(e.user.personal.username))]),n("ul",{staticClass:"opcionsAdmin",class:{isActive:e.isOptionsAdmin}},[e.isDashboard?n("li",[n("router-link",{attrs:{to:"/dashboard"}},[e._v("My Lists")])],1):e._e(),n("li",{on:{click:function(t){e.callModal()}}},[e._v("Change Image")]),n("li",{on:{click:function(t){e.logOut()}}},[n("a",[e._v("Logout")])])])])])},ie=[],se=n("d68e"),re=n.n(se),oe={name:"header-ichi",data:function(){return{img:re.a,isOptionsAdmin:!1}},computed:Object(r["a"])({isDashboard:function(){return"webapp"===this.$route.name}},Object(f["d"])(["user"])),methods:Object(r["a"])({},Object(f["c"])(["showModal","userLogOut"]),{toggleOptionsAdmin:function(){console.log(this.isOptionsAdmin),this.isOptionsAdmin=!this.isOptionsAdmin},callModal:function(){var e={type:"change-image"};this.showModal(e),console.log("ready")},logOut:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.userLogOut();case 2:return e.next=4,console.log("...log out , bye!");case 4:this.$router.push({name:"login"});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),goHome:function(e){console.log("target  :",e.target),e.target.classList.contains("Header")&&this.$router.push({path:"/webapp"})}})},ce=oe,le=(n("2dde"),Object(_["a"])(ce,ae,ie,!1,null,"6aeba6d4",null));le.options.__file="Header.vue";var ue=le.exports,me=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("form",{staticClass:"d-flex justify-content-center"},[n("div",{staticClass:"InputContainer d-flex justify-content-center"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.forSearch,expression:"forSearch"}],staticClass:"InputText form-control",attrs:{type:"text",placeholder:"Search your animes here!"},domProps:{value:e.forSearch},on:{input:function(t){t.target.composing||(e.forSearch=t.target.value)}}}),n("input",{staticClass:"InputButton form-control btn btn-danger",attrs:{type:"button",value:"Search"}})])])])},de=[],pe={name:"form-search",data:function(){return{forSearch:""}},watch:{forSearch:function(e,t){e.trim().length>=3&&(this.changeTypeContentList("search"),this.cleanSearchList(),this.searchAnime(e)),0===e.trim().length&&this.changeTypeContentList("init")}},methods:Object(r["a"])({},Object(f["c"])(["changeTypeContentList","cleanSearchList"]),Object(f["b"])(["searchAnime"]))},fe=pe,he=(n("c92c"),Object(_["a"])(fe,me,de,!1,null,"67877b3a",null));he.options.__file="FormSearch.vue";var ge=he.exports,ve=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ContainerAnime container"},[n("div",{staticClass:"row"},[e.listAnime.length>0?e._l(e.listAnime.slice(0,e.final),function(e,t){return n("div",{key:t,staticClass:"col-12 col-sm-6 col-md-4 col-xl-3"},[n("poster",{attrs:{anime:e}})],1)}):e._e(),e.listAnime.length<=0?n("div",{staticClass:"col-12 text-center d-flex justify-content-center p-5"},[n("div",{staticClass:"preloader"})]):e._e()],2)])},be=[],_e=n("fb2e"),we=n.n(_e),Ce=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"Poster"},[e.animeInLists?n("div",{staticClass:"statusAnime",class:e.styleClass},[e._v(e._s(e.statusName))]):e._e(),n("img",{attrs:{src:e.anime.img,alt:""}}),n("div",{staticClass:"addToList"},[n("span",{staticClass:"buttonAdd",on:{click:function(t){e.toggleOptions()}}},[e._v("+")]),n("ul",{staticClass:"addOptions",class:[e.options?"showOptions":""]},[e.animeInLists?e._e():[n("li",{on:{click:function(t){e.callModal("complete")}}},[e._v("add to Completed  ")]),n("li",{on:{click:function(t){e.callModal("watching")}}},[e._v("add to Watching")]),n("li",{on:{click:function(t){e.callModal("abandoned")}}},[e._v("add to Abandoned")])],e.animeInLists?n("li",{on:{click:function(t){e.callRemoveAnime()}}},[e._v(" remove from list ")]):e._e(),n("li",{on:{click:function(t){e.toggleOptions()}}},[e._v("Exit...")])],2)]),n("div",{staticClass:"title"},[e._v("\n        "+e._s(e.anime.title||e.anime.name)+"\n    ")])])},ye=[],xe={name:"poster-anime",props:["anime","tipo"],mounted:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.animeTypeVerify();case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),data:function(){return{options:!1,statusName:"",styleClass:"",animeInLists:!1}},computed:Object(r["a"])({},Object(f["d"])(["typeContentList"])),watch:{anime:{deep:!0,handler:function(e,t){this.animeTypeVerify()}}},methods:Object(r["a"])({toggleOptions:function(){this.options=!this.options},callRemoveAnime:function(){var e=this,t=this.anime.title||this.anime.name,n="Do you wish to remove  ".concat(t," from the list ?");this.anime.list;if(window.confirm(n)){var a={id:this.anime._id,name:t,list:this.anime.list};this.removeAnime(a).then(function(){e.options=!1})}else this.options=!1},callModal:function(e){this.toggleOptions();var t={type:"poster",info:this.anime,list:e};this.showModal(t)},animeTypeVerify:function(){switch(this.anime.list){case"complete":this.animeInLists=!0,this.statusName=this.anime.list,this.styleClass="statusComplete";break;case"watching":this.animeInLists=!0,this.statusName=this.anime.list,this.styleClass="statusWatching";break;case"abandoned":this.animeInLists=!0,this.statusName=this.anime.list,this.styleClass="statusAbandoned";break;case"notFound":this.animeInLists=!1;break}}},Object(f["c"])(["showModal"]),Object(f["b"])(["checkAnime","removeAnime"]))},ke=xe,je=(n("4899"),Object(_["a"])(ke,Ce,ye,!1,null,"5f0fcfec",null));je.options.__file="PosterAnime.vue";var Oe=je.exports,Le={name:"container-anime",components:{Poster:Oe},mounted:function(){this.infiniteScroll()},data:function(){return{final:0,img:we.a,listOffline:[{title:"Naruto",img:we.a,date:"2018",genres:"shonen, acction, adventue",description:"stnopsis"},{title:"One piece",img:we.a,date:"2018",genres:"shonen, acction, adventue",description:"stnopsis"},{title:"Bleach",img:we.a,date:"2018",genres:"shonen, acction, adventue",description:"stnopsis"},{title:"HunterXhunter",img:we.a,date:"2018",genres:"shonen, acction, adventue",description:"stnopsis"},{title:"Claymore",img:we.a,date:"2018",genres:"shonen, acction, adventue",description:"stnopsis"},{title:"One puch man",img:we.a,date:"2018",genres:"shonen, acction, adventue",description:"stnopsis"},{title:"Violet Evergarden",img:we.a,date:"2018",genres:"shonen, acction, adventue",description:"Violet Evergarden"}]}},watch:{typeContentList:function(){this.initFill()}},computed:Object(r["a"])({},Object(f["d"])(["typeContentList","listsRender","user"]),{listAnime:function(){switch(this.typeContentList){case"init":return this.listsRender.init;case"search":return console.log("searching ..."),this.listsRender.search;case"list-complete":return console.log("list-complete"),this.user.lists.complete.animes;case"list-watching":return console.log("list-watching"),this.user.lists.watching.animes;case"list-abandoned":return console.log("list-abandoned"),this.user.lists.abandoned.animes;case"offline":return this.listOffline}}}),methods:Object(r["a"])({initFill:function(){this.final=this.listAnime.length<5?this.listAnime.length:5},infiniteScroll:function(){var e=this;window.onscroll=function(){var t=document.documentElement.scrollTop+window.innerHeight===document.documentElement.offsetHeight;t&&(e.final=e.final+5>e.listAnime.length?e.listAnime.length:e.final+5)}}},Object(f["b"])(["fillListInitAsync"]))},Ae=Le,Ee=(n("f765"),Object(_["a"])(Ae,ve,be,!1,null,"7086ef47",null));Ee.options.__file="ContainerAnime.vue";var Re=Ee.exports,Me=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:this.modal.active,expression:"this.modal.active"}],staticClass:"backgroudModal",on:{click:function(t){e.checkModal("bg",t)}}},[n("div",{staticClass:"containerModal"},["poster"===e.modal.type?[n("div",{staticClass:"infoModal"},[n("img",{attrs:{src:this.modal.anime.img,alt:""}}),n("h4",{staticClass:"titleModal"},[e._v(e._s(this.modal.anime.title))])]),n("div",{staticClass:"confirmModal"},[n("p",{staticClass:"questionModal"},[e._v('\n                    Do you want add it to "'),n("b",[e._v(e._s(this.modal.listName))]),e._v('" list?\n                ')]),n("div",{staticClass:"aswerModal d-flex justify-content-around "},[n("button",{staticClass:"btnModal btn btn-danger",on:{click:function(t){e.closeModal()}}},[e._v("No")]),n("button",{staticClass:"btnModal btn btn-outline-success",on:{click:function(t){e.callAddAnime()}}},[e._v("Yes")])])])]:[n("div",{staticClass:"img-perfil"},[n("img",{attrs:{src:e.imgPerfil,alt:""}})]),n("div",{staticClass:"form-group"},[n("input",{staticClass:"form-control",attrs:{type:"file"},on:{change:function(t){e.loadImg(t)}}})]),e.imgPerfil?n("div",{staticClass:"confirmModal"},[n("p",{staticClass:"questionModal"},[e._v("\n                    Do you want upload image ?\n                ")]),n("div",{staticClass:"aswerModal d-flex justify-content-around "},[n("button",{staticClass:"btnModal btn btn-danger",on:{click:function(t){e.closeModal()}}},[e._v("No")]),n("button",{staticClass:"btnModal btn btn-outline-success"},[e._v("Yes")])])]):e._e()]],2)])},Pe=[],Se=n("0c62"),Te=n.n(Se),Ne={data:function(){return{img:Te.a,imagePerfil:""}},computed:Object(r["a"])({imgPerfil:function(){return this.imagePerfil}},Object(f["d"])(["modal"])),methods:Object(r["a"])({checkModal:function(e,t){"backgroudModal"===t.target.className&&"bg"===e&&this.closeModal()},loadImg:function(e){this.imagePerfil=e.target.files[0].name},callAddAnime:function(){var e=this;console.log("call add anime method"),this.addAnime().then(function(){return e.closeModal})}},Object(f["c"])(["closeModal"]),Object(f["b"])(["addAnime"]))},$e=Ne,Ie=(n("a3de"),Object(_["a"])($e,Me,Pe,!1,null,"73d3323d",null));Ie.options.__file="ModalPoster.vue";var Ue=Ie.exports,He={name:"webapp",components:{HeaderIchi:ue,FormSearch:ge,ContainerPoster:Re,ModalPoster:Ue}},Fe=He,Ve=(n("c013"),Object(_["a"])(Fe,te,ne,!1,null,null,null));Ve.options.__file="WebApp.vue";var De=Ve.exports,We=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container-fluid"},[n("header-ichi",{attrs:{user:"ichiban"}}),n("div",{staticClass:"container-fluid mt-5"},[n("div",{staticClass:"row"},[n("div",{staticClass:"panelLists col-md-2 col-lg-3"},[n("panel-lists")],1),n("div",{staticClass:"col-md-10 col-lg-9"},[n("router-view")],1)])]),n("modal")],1)},Ye=[],qe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"superContainer"},[e.isActiveOffCanvas?n("div",{staticClass:"bg-offCanvas",on:{click:function(t){e.toggleMenu()}}}):e._e(),n("div",{staticClass:"btn mobileLits",class:{moveMobileLists:e.isActiveOffCanvas},on:{click:function(t){e.toggleMenu()}}},[e._v("\n             List\n         ")]),n("div",{staticClass:"ContainerLists btn-dark",class:{moveOffCanvas:e.isActiveOffCanvas}},[n("div",{staticClass:"myLists"},[n("h4",[e._v("My Lists")]),n("ul",{staticClass:"d-flex flex-column align-items-center"},[n("li",{staticClass:"bg-dark",class:{activeList:e.activeList.complete},on:{click:function(t){e.callLists("complete")}}},[e._v("\n                         Completed\n                     ")]),n("li",{staticClass:"bg-dark",class:{activeList:e.activeList.watching},on:{click:function(t){e.callLists("watching")}}},[e._v("\n                         watching\n                     ")]),n("li",{staticClass:"bg-dark",class:{activeList:e.activeList.abandoned},on:{click:function(t){e.callLists("abandoned")}}},[e._v("\n                         Abandoned\n                     ")]),e.animeTotal>0?n("li",[n("small",[e._v("\n                             total : "+e._s(e.animeTotal)+"\n                         ")])]):e._e()])])])])},Be=[],Je={name:"panel-list",data:function(){return{isActiveOffCanvas:!1,activeList:{complete:!1,abandoned:!1,watching:!1}}},computed:Object(r["a"])({},Object(f["d"])(["typeContentList","user"]),{animeTotal:function(){switch(this.typeContentList){case"list-complete":return this.user.lists.complete.animes.length;case"list-watching":return this.user.lists.watching.animes.length;case"list-abandoned":return this.user.lists.abandoned.animes.length}}}),methods:Object(r["a"])({changeActiveList:function(e){for(var t in this.activeList)this.activeList[t]=t==e},toggleMenu:function(){this.isActiveOffCanvas=!this.isActiveOffCanvas},callLists:function(e){this.changeActiveList(e);var t="list-".concat(e);this.changeTypeContentList(t),this.$router.push({name:e}),this.isActiveOffCanvas=!1}},Object(f["c"])(["changeTypeContentList"]))},ze=Je,Xe=(n("b232"),Object(_["a"])(ze,qe,Be,!1,null,"140ae97a",null));Xe.options.__file="PanelLists.vue";var Ge=Xe.exports,Ke={name:"dashboard",components:{HeaderIchi:ue,ContainerAnime:Re,PanelLists:Ge,Modal:Ue}},Qe=Ke,Ze=(n("6cba"),Object(_["a"])(Qe,We,Ye,!1,null,"b1172880",null));Ze.options.__file="Dashboard.vue";var et=Ze.exports;a["a"].use(B["a"]);var tt=new B["a"]({routes:[{path:"/",redirect:{name:"webapp"}},{path:"/login",name:"login",component:E,beforeEnter:function(e,t,n){z.state.user.auth?n("webapp"):n()}},{path:"/register",name:"register",component:ee,beforeEnter:function(e,t,n){z.state.user.auth?n("webapp"):n()}},{path:"/webapp",name:"webapp",component:De,beforeEnter:function(e,t,n){console.log("guard local"),z.state.typeContentList="init",z.state.user.auth?n():n("login")}},{path:"/dashboard",component:et,beforeEnter:function(e,t,n){z.state.user.auth?n():n("login")},children:[{path:"",name:"default-list",component:Re},{path:"list/complete",name:"complete",component:Re,beforeEnter:function(e,t,n){z.state.typeContentList="list-complete"}},{path:"list/watching",name:"watching",component:Re,beforeEnter:function(e,t,n){z.state.typeContentList="list-watching"}},{path:"list/abandoned",name:"abandoned",component:Re,beforeEnter:function(e,t,n){z.state.typeContentList="list-abandoned"}}]},{path:"/",name:"home",component:V},{path:"/about",name:"about",component:function(){return n.e("about").then(n.bind(null,"f820"))}}]});n("f9e3"),n("7e7d");n.d(t,"bus",function(){return nt}),a["a"].config.productionTip=!1;var nt=new a["a"];new a["a"]({router:tt,store:z,render:function(e){return e(q)}}).$mount("#app")},"6cba":function(e,t,n){"use strict";var a=n("c224"),i=n.n(a);i.a},"7e7d":function(e,t,n){},"8cd2":function(e,t,n){},"92ba":function(e,t,n){"use strict";var a=n("e0d6"),i=n.n(a);i.a},"99d4":function(e,t,n){},a183:function(e,t,n){},a3de:function(e,t,n){"use strict";var a=n("8cd2"),i=n.n(a);i.a},a81b:function(e,t,n){"use strict";var a=n("e842"),i=n.n(a);i.a},a914:function(e,t,n){"use strict";var a=n("3143"),i=n.n(a);i.a},b0df:function(e,t,n){"use strict";var a=n("a183"),i=n.n(a);i.a},b232:function(e,t,n){"use strict";var a=n("fbc2"),i=n.n(a);i.a},c013:function(e,t,n){"use strict";var a=n("e0c8"),i=n.n(a);i.a},c224:function(e,t,n){},c5cc:function(e,t,n){},c92c:function(e,t,n){"use strict";var a=n("99d4"),i=n.n(a);i.a},cf05:function(e,t,n){e.exports=n.p+"img/logo.82b9c7a5.png"},d68e:function(e,t,n){e.exports=n.p+"img/bg.4c89e7d4.png"},d7d2:function(e,t,n){},d963:function(e,t,n){"use strict";var a=n("2b0d"),i=n.n(a);i.a},e0c8:function(e,t,n){},e0d6:function(e,t,n){},e842:function(e,t,n){},f765:function(e,t,n){"use strict";var a=n("0657"),i=n.n(a);i.a},fb2e:function(e,t,n){e.exports=n.p+"img/poster.1b197d0b.jpg"},fbc2:function(e,t,n){}});
//# sourceMappingURL=app.7ceb18f0.js.map